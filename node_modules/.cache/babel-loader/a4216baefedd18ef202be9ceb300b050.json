{"ast":null,"code":"import bottomNav from '@/components/bottomNav.vue';\nexport default {\n  name: 'App',\n  components: {\n    bottomNav\n  },\n  data: () => ({\n    model: 0,\n    colors: ['primary', 'secondary', 'yellow darken-2', 'red', 'orange']\n  }),\n\n  //데이터베이스 에서 배열로 가져와서\n  created() {\n    // vue 생성 시 소켓 연결\n    this.connect();\n  },\n\n  methods: {\n    moreProduct() {\n      this.send();\n    },\n\n    bid(bidding) {\n      this.send_bidding(bidding);\n      axios.post('http://localhost:8080/api/', {\n        bid_price: this.bid_price\n      });\n    },\n\n    send() {\n      console.log(\"limit:\" + this.limit);\n      console.log(this.stompClient);\n      console.log(this.stompClient.connected);\n\n      if (this.stompClient && this.stompClient.connected) {\n        console.log(this.limit);\n        console.log(this.$store.state.config.headers.TOKEN);\n        this.stompClient.send(\"/receive_limit/\" + this.$store.state.config.headers.TOKEN, this.limit, {});\n        this.limit += 2;\n        console.log(this.auctionList);\n      }\n    },\n\n    send_bidding(bidding) {\n      console.log(\"bid_price:\" + bidding.bid_price);\n      console.log(this.stompClient);\n      console.log(this.stompClient.connected);\n\n      if (this.stompClient && this.stompClient.connected) {\n        console.log(\"auction_id: \" + bidding.auction_id);\n        console.log(\"bid_price:\" + bidding.bid_price);\n        this.stompClient.send(\"/receive_bidding\", JSON.stringify(bidding), {});\n        console.log(this.auctionList);\n      }\n    },\n\n    connect() {\n      const serverURL = \"http://localhost:8080/socket\";\n      let socket = new SockJS(serverURL);\n      this.stompClient = Stomp.over(socket);\n      console.log(`소켓 연결을 시도합니다. 서버 주소: ${serverURL}`);\n      this.stompClient.connect({}, frame => {\n        this.connected = true;\n        console.log('소켓 연결 성공', frame);\n        this.stompClient.subscribe(\"/send_auction_data/\" + this.$store.state.config.headers.TOKEN, res => {\n          const response_data = JSON.parse(res.body);\n          console.log(response_data[0]);\n          console.log(response_data.length);\n\n          for (let i = 0; i < response_data.length; i++) {\n            this.auctionList.push(response_data[i]);\n          }\n\n          console.log(\"this.auctionList\");\n          console.log(this.auctionList[0]);\n        });\n        this.stompClient.subscribe(\"/send_bidding\", res => {\n          const response_data = JSON.parse(res.body);\n          console.log(response_data);\n        });\n      }, error => {\n        // 소켓 연결 실패\n        console.log('소켓 연결 실패', error);\n        this.connected = false;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["bottomNav","name","components","data","model","colors","created","connect","methods","moreProduct","send","bid","bidding","send_bidding","axios","post","bid_price","console","log","limit","stompClient","connected","$store","state","config","headers","TOKEN","auctionList","auction_id","JSON","stringify","serverURL","socket","SockJS","Stomp","over","frame","subscribe","res","response_data","parse","body","length","i","push","error"],"sourceRoot":"","sources":["/home/realvue/src/views/auction/auction_detail.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"main_nav_t_div\">\r\n            <nav class=\"main_t_nav\">\r\n                <ul class=\"main_t_nav_list\">\r\n                    <li class=\"nav__btn\">\r\n                        <a class=\"nav__link\" href=\"alert\"><i class=\"fas fa-bell fa-2x\" aria-hidden=\"true\"></i>\r\n                        </a>\r\n                    </li>\r\n\r\n                    <li class=\"nav__btn\">\r\n                        <a class=\"nav__link\" href=\"main\"><i class=\"fas fa-running fa-2x\" aria-hidden=\"true\" image\r\n                                src=\"../image/123.jpg\"></i>\r\n                        </a>\r\n                    </li>\r\n\r\n                    <li class=\"nav__btn\">\r\n                        <div class=\"nav__notification-dot\"></div>\r\n                        <a class=\"nav__link\" href=\"auction\"><i class=\"fas fa-plus fa-2x\" aria-hidden=\"true\"></i>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n\r\n        <v-carousel v-model=\"model\">\r\n            <v-carousel-item v-for=\"(color, i) in colors\" :key=\"color\">\r\n                <v-sheet :color=\"color\" height=\"100%\" tile>\r\n                    <v-row class=\"fill-height\" align=\"center\" justify=\"center\">\r\n                        <div class=\"text-h2\">\r\n                            Slide {{ i + 1 }}\r\n                        </div>\r\n                    </v-row>\r\n                </v-sheet>\r\n            </v-carousel-item>\r\n        </v-carousel>\r\n        <table class=\"tbl_home\">\r\n        <tr class=\"\">\r\n            <th>입찰 수</th>\r\n            <td>333</td>\r\n        </tr>\r\n\r\n        <tr class=\"\">\r\n            <th>현재 가격</th>\r\n            <td>90,600</td>\r\n        </tr>\r\n        </table>\r\n\r\n\r\n    \r\n                                <form @submit.prevent=\"auction.bid_price\" >\r\n                              <v-text-field v-model=\"bid_price\" ></v-text-field>\r\n                              <button @click=\"bid({auction_id: auction.auction_Id, bid_price})\">입찰</button>\r\n                                </form>\r\n\r\n        <fieldset>\r\n            <h2 class=\"profileh2\">상품 정보</h2>\r\n\r\n            <div class=\"aside_area aside_popular\">\r\n                <h3 class=\"h_popular\"></h3>\r\n                <table class=\"tbl_home\">\r\n                    <tbody>\r\n                        <tr class=\"\">\r\n                            <th>못난이 복숭아</th>\r\n                            <td>10kg</td>\r\n                        </tr>\r\n\r\n                        <tr class=\"\">\r\n                            <th>시작 가격</th>\r\n                            <td>50,00원</td>\r\n                        </tr>\r\n                        <tr class=\"\">\r\n                            <th>낙과 일자</th>\r\n                            <td>2022.02.19</td>\r\n                        </tr>\r\n\r\n                        <tr class=\"\">\r\n                            <th>사이즈</th>\r\n                            <td>대 중 소</td>\r\n                        </tr>\r\n\r\n                        <tr class=\"\">\r\n                            <th>상태</th>\r\n                            <td>상 중 하</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </fieldset>\r\n\r\n\r\n\r\n        <h3 class=\"h3_middle\">설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명설명</h3>\r\n\r\n\r\n\r\n        <h2 class=\"profileh2\">생산자 정보</h2>\r\n\r\n        <div class=\"goods_group\">\r\n            <ul class=\"goods_group_list\">\r\n                <li id=\"_rowLi20220213173042CHK2022021381488661\" class=\"goods_pay_item \">\r\n                    <div class=\"goods_item\">\r\n                        <a href=\"/orderStatus/2022021339733581\" class=\"goods_thumb\">\r\n                            <img src=\"https://suhofarm.com/_upload/mall/20220112173148_86227.jpg\" alt=\"\" width=\"90\"\r\n                                height=\"90\"></a>\r\n                        <div class=\"goods_info\">\r\n\r\n                            <p class=\"guide1\">\r\n                                농가명 : 따과농과\r\n                            </p>\r\n                            <p class=\"guide1\">\r\n                                대표자 : 김따과\r\n                            </p>\r\n                            <p class=\"guide1\">\r\n                                사업자 등록번호 : 2349782431978\r\n                            </p>\r\n                            <p class=\"guide1\">\r\n                                농가 주소 : 충청북도 충주시 대학로 50\r\n                            </p>\r\n                            <p class=\"guide1\">\r\n                                연락처 : 010-2343-2342\r\n                            </p>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class=\"seller_item\">\r\n                        <div class=\"inner\">\r\n\r\n                            <span class=\"seller\">따과농과</span>\r\n                            <span class=\"tel\">1544-0967</span>\r\n                            <a href=\"#\"\r\n                                class=\"state_button qna _click(nmp.front.order.timeline.home.list.shoppingInquiry(/merchant/shoppingInquiry/2022021381488661)) _stopDefault\">문의하기</a>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <br>\r\n        <form action=\"farm_intro\" class=\"login-form\">\r\n            <input class=\"login-form__btn\" type=\"submit\" value=\"농가 상세 소개\">\r\n        </form>\r\n\r\n\r\n\r\n        <bottom-nav></bottom-nav>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\n    import bottomNav from '@/components/bottomNav.vue';\r\n\r\n    export default {\r\n        name: 'App',\r\n        components: { bottomNav },\r\n        data: () => ({\r\n            model: 0,\r\n            colors: [\r\n                'primary',\r\n                'secondary',\r\n                'yellow darken-2',\r\n                'red',\r\n                'orange',\r\n            ],\r\n    }),\r\n      \r\n  //데이터베이스 에서 배열로 가져와서\r\n  created() {\r\n    // vue 생성 시 소켓 연결\r\n    this.connect()\r\n  },\r\n\r\n  methods: {\r\n    moreProduct () {\r\n      this.send()\r\n    },\r\n    bid(bidding){\r\n      this.send_bidding(bidding)\r\n      axios.post('http://localhost:8080/api/', {bid_price: this.bid_price})\r\n    },    \r\n    send() {\r\n      console.log(\"limit:\" + this.limit);\r\n      console.log(this.stompClient);\r\n      console.log(this.stompClient.connected);\r\n      if (this.stompClient && this.stompClient.connected) {\r\n        console.log(this.limit);\r\n        console.log(this.$store.state.config.headers.TOKEN);\r\n        this.stompClient.send(\"/receive_limit/\"+this.$store.state.config.headers.TOKEN, this.limit, {});\r\n        this.limit += 2;\r\n        console.log(this.auctionList);\r\n      }\r\n    },\r\n    send_bidding(bidding){\r\n      console.log(\"bid_price:\" + bidding.bid_price);\r\n      console.log(this.stompClient);\r\n      console.log(this.stompClient.connected);\r\n      if (this.stompClient && this.stompClient.connected) {\r\n        console.log(\"auction_id: \" + bidding.auction_id);\r\n        console.log(\"bid_price:\" + bidding.bid_price);\r\n        this.stompClient.send(\"/receive_bidding\", JSON.stringify(bidding), {});\r\n        console.log(this.auctionList);\r\n      }\r\n    },\r\n    connect() {\r\n      const serverURL = \"http://localhost:8080/socket\"\r\n      let socket = new SockJS(serverURL);\r\n      this.stompClient = Stomp.over(socket);\r\n      console.log(`소켓 연결을 시도합니다. 서버 주소: ${serverURL}`)\r\n      this.stompClient.connect(\r\n        {},\r\n        frame => {\r\n          this.connected = true;\r\n          console.log('소켓 연결 성공', frame);\r\n\r\n          this.stompClient.subscribe(\"/send_auction_data/\"+this.$store.state.config.headers.TOKEN,  res => {\r\n\r\n            const response_data = JSON.parse(res.body);\r\n            console.log(response_data[0]);\r\n            console.log(response_data.length);\r\n            for (let i = 0; i < response_data.length; i++) {\r\n              this.auctionList.push(response_data[i])\r\n            }\r\n            console.log(\"this.auctionList\");\r\n            console.log(this.auctionList[0]);\r\n          });\r\n          this.stompClient.subscribe(\"/send_bidding\",  res => {\r\n\r\n            const response_data = JSON.parse(res.body);\r\n            console.log(response_data);\r\n          });\r\n        },\r\n        error => {\r\n          // 소켓 연결 실패\r\n          console.log('소켓 연결 실패', error);\r\n          this.connected = false;\r\n        }\r\n      );        \r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}