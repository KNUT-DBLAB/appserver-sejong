{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'submitBizForm',\n\n  data() {\n    return {\n      farm_member_info: {\n        f_name: this.$store.state.user.name,\n        f_email: this.$store.state.user.email,\n        f_passwd: this.$store.state.user.passwd,\n        f_phonenum: this.$store.state.user.phonenum,\n        f_farm_name: null,\n        f_representative: null,\n        f_BRN: null,\n        f_location: null,\n        f_num: null\n      }\n    };\n  },\n\n  methods: {\n    submitBizSignUp() {\n      console.log(this.farm_member_info);\n      axios.post('http://localhost:8080/api/signupFarmMember', this.farm_member_info).then(res => {\n        console.log(res);\n\n        if (res.data == 0) {\n          alert(\"회원가입 실패..\");\n        } else {\n          alert(\"회원가입 성공..\"); // main으로 넘기기\n\n          console.log(\"main으로!!\");\n          console.log(res.data.token);\n          this.$store.commit('TOKEN_SAVE', res.data.token);\n          this.$router.push({\n            name: 'main',\n            params: this.token\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+BA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACdC,IAAI,EAAE,eADQ;;EAEdC,IAAI,GAAG;IACN,OAAO;MACNC,gBAAgB,EAAE;QACjBC,MAAM,EAAE,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBN,IADd;QAEjBO,OAAO,EAAE,KAAKH,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBE,KAFf;QAGjBC,QAAQ,EAAE,KAAKL,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBI,MAHhB;QAIjBC,UAAU,EAAE,KAAKP,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBM,QAJlB;QAKjBC,WAAW,EAAE,IALI;QAMjBC,gBAAgB,EAAE,IAND;QAOjBC,KAAK,EAAE,IAPU;QAQjBC,UAAU,EAAE,IARK;QASjBC,KAAK,EAAE;MATU;IADZ,CAAP;EAaA,CAhBa;;EAiBdC,OAAO,EAAC;IACPC,eAAe,GAAG;MACjBC,OAAO,CAACC,GAAR,CAAY,KAAKnB,gBAAjB;MACAH,KAAK,CAACuB,IAAN,CAAW,4CAAX,EAAyD,KAAKpB,gBAA9D,EACCqB,IADD,CACMC,GAAE,IAAK;QACZJ,OAAO,CAACC,GAAR,CAAYG,GAAZ;;QACA,IAAIA,GAAG,CAACvB,IAAJ,IAAY,CAAhB,EAAkB;UACjBwB,KAAK,CAAC,WAAD,CAAL;QACD,CAFA,MAEO;UACNA,KAAK,CAAC,WAAD,CAAL,CADM,CAEN;;UACAL,OAAO,CAACC,GAAR,CAAY,UAAZ;UACAD,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACvB,IAAJ,CAASyB,KAArB;UAEA,KAAKtB,MAAL,CAAYuB,MAAZ,CAAmB,YAAnB,EAAiCH,GAAG,CAACvB,IAAJ,CAASyB,KAA1C;UACA,KAAKE,OAAL,CAAaC,IAAb,CAAkB;YAAC7B,IAAI,EAAE,MAAP;YAAe8B,MAAM,EAAE,KAAKJ;UAA5B,CAAlB;QACD;MACA,CAdD,EAeCK,KAfD,CAeOC,GAAE,IAAK;QACbZ,OAAO,CAACC,GAAR,CAAYW,GAAZ;MACA,CAjBD;IAkBA;;EArBM;AAjBM,CAAf","names":["axios","name","data","farm_member_info","f_name","$store","state","user","f_email","email","f_passwd","passwd","f_phonenum","phonenum","f_farm_name","f_representative","f_BRN","f_location","f_num","methods","submitBizSignUp","console","log","post","then","res","alert","token","commit","$router","push","params","catch","err"],"sourceRoot":"","sources":["/home/realvue/src/views/login/farm_biz_info.vue"],"sourcesContent":["\n<template>\n\n\t<div>\n    <header class=\"welcome-header\">\n        <h1 class=\"welcome-header__title\">정 보 입 력</h1>\n      </header>\n\t\t<!-- @ 는 v-on 과 같은 표현식이다. 폼 내부에서 버튼을 누르면 submit 이벤트가 form 으로 전송되고 v-on:submit이 실행된다.\n\t\t이때 페이지가 새로고침되므로 .prevent를 통해 새로고침을 막고 methods의 함수롤 호출하게 한다. -->\n\t\t<form @submit.prevent=\"submitBizForm\" class=\"login-form\">\n        <label id=\"login-form-label\">농가명</label>\n        <input v-model=\"farm_member_info.f_farm_name\" class=\"information-form__input\" type=\"text\" required placeholder=\"농가명\">\n\n        <label id=\"login-form-label\">대표자</label>\n        <input v-model=\"farm_member_info.f_representative\" class=\"information-form__input\" type=\"text\" required placeholder=\"대표자\">\n\n        <label id=\"login-form-label\">사업자 등록번호</label>\n        <input v-model=\"farm_member_info.f_BRN\" class=\"login-form__input\" type=\"text\" required placeholder=\"사업자 등록번호\">\n\n        <label id=\"login-form-label\">사업장 소재지</label>\n        <input v-model=\"farm_member_info.f_location\" class=\"login-form__input\" type=\"text\" required placeholder=\"사업장 소재지\">\n\n        <label id=\"login-form-label\">농가 전화번호</label>\n        <input v-model=\"farm_member_info.f_num\" class=\"login-form__input\" type=\"text\" required placeholder=\"농가 전화번호\">\n\t\t\n        <input class=\"login-form__btn\" type=\"submit\" @click=\"submitBizSignUp()\" value=\"다음\">\n\t\t</form>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\"\n\nexport default {\n\tname: 'submitBizForm',\n\tdata() {\n\t\treturn {\n\t\t\tfarm_member_info: {\n\t\t\t\tf_name: this.$store.state.user.name,\n\t\t\t\tf_email: this.$store.state.user.email,\n\t\t\t\tf_passwd: this.$store.state.user.passwd,\n\t\t\t\tf_phonenum: this.$store.state.user.phonenum,\n\t\t\t\tf_farm_name: null,\n\t\t\t\tf_representative: null,\n\t\t\t\tf_BRN: null,\n\t\t\t\tf_location: null,\n\t\t\t\tf_num: null\n\t\t\t}\n\t\t};\n\t},\n\tmethods:{\n\t\tsubmitBizSignUp() {\n\t\t\tconsole.log(this.farm_member_info);\n\t\t\taxios.post('http://localhost:8080/api/signupFarmMember', this.farm_member_info)\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.data == 0){\n\t\t\t\t\talert(\"회원가입 실패..\")\n\t\t\t\t} else {\n\t\t\t\t\talert(\"회원가입 성공..\")\n\t\t\t\t\t// main으로 넘기기\n\t\t\t\t\tconsole.log(\"main으로!!\");\n\t\t\t\t\tconsole.log(res.data.token);\n\t\t\t\t\t\n\t\t\t\t\tthis.$store.commit('TOKEN_SAVE', res.data.token);\n\t\t\t\t\tthis.$router.push({name: 'main', params: this.token});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t\t},\n\t}\n};\n\n\n\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}