<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" q type="text/css" href="../css/style.css">

<body>

    <h2 class="maintext" style="text-align:center;">
        세종시 자율주행 발렛 파킹
    </h2>
    <a href="javascript:void(0)" onclick="goBack()"><img
            src="https://cdn.pixabay.com/photo/2020/03/22/15/19/arrow-4957487_960_720.png" title="뒤로가기"
            class="m_back"></a>
    <script>
        function goBack() {
            window.history.back();
        }
    </script>
    <p class="button_onmain">발렛 파킹</p>


    <script>
        function btnActive()  {
  const target = document.getElementById('target_btn');
  target.disabled = false;
}

function btnDisabled()  {
  const target = document.getElementById('target_btn');
  target.disabled = true;
}
    </script>
    <!-- 본
    <div class="parkingmap"style="width: auto; height:400px; border:3px solid rgb(0, 0, 0);">
        <img src="" alt="주차장 지도" width:50px; height:50px; vertical-align: middle;>
    </div>
    -->
    <!-- 맵 api-->
    <div id="map" style="width:auto;height:400px;"></div>

    <h2>
        <p style="text-align:center;">세종특별시 120 주차장 98 주차노면 <%= data["slotid"] %>번 주차면</p>
    </h2>

    <div>
        <button class="styled1" type="button" id="parkingRequest">
            발렛 파킹 시작
        </button>
    </div>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script type="text/javascript"
        src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=4oxbi73uru&callback=initMap"></script>
    <script type="text/javascript">

        /*
        function initMap() {
            map = new naver.maps.Map('map', {
                center: new naver.maps.LatLng(36.49899, 127.28314),
                zoom: 17
            });
        }*/

        let infoWindows = new Array(); //
        const locations = [
            /* x1, y1를 Get Value */
            { place: "마커1", lat: parseFloat(<%= data["x1"] %>), lng: parseFloat(<%= data["y1"] %>) },
        ];

        var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(36.498418, 127.28269),
            zoom: 18
        });


        //1
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498010, 127.282085),
                    new naver.maps.LatLng(36.498039, 127.282049),
                    new naver.maps.LatLng(36.498023, 127.282029),
                    new naver.maps.LatLng(36.497994, 127.282065)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //2
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498099, 127.282295),
                    new naver.maps.LatLng(36.498071, 127.28233),
                    new naver.maps.LatLng(36.498087, 127.28235),
                    new naver.maps.LatLng(36.498115, 127.282315)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //3
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498233, 127.282362),
                    new naver.maps.LatLng(36.498262, 127.282326),
                    new naver.maps.LatLng(36.498246, 127.282306),
                    new naver.maps.LatLng(36.498217, 127.282342)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //4
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498389, 127.282725),
                    new naver.maps.LatLng(36.498418, 127.28269),
                    new naver.maps.LatLng(36.498433, 127.282709),
                    new naver.maps.LatLng(36.498405, 127.282745)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //5
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498582, 127.282722),
                    new naver.maps.LatLng(36.498553, 127.282759),
                    new naver.maps.LatLng(36.498537, 127.282739),
                    new naver.maps.LatLng(36.498566, 127.282703)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //6
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498866, 127.283073),
                    new naver.maps.LatLng(36.498837, 127.28311),
                    new naver.maps.LatLng(36.49882, 127.28309),
                    new naver.maps.LatLng(36.49885, 127.283053)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //7
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498817, 127.283254),
                    new naver.maps.LatLng(36.498801, 127.283234),
                    new naver.maps.LatLng(36.498829, 127.283199),
                    new naver.maps.LatLng(36.498845, 127.283219)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //8
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498819, 127.283357),
                    new naver.maps.LatLng(36.498791, 127.283392),
                    new naver.maps.LatLng(36.498777, 127.283374),
                    new naver.maps.LatLng(36.498804, 127.283339)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //9
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.498446, 127.282893),
                    new naver.maps.LatLng(36.498418, 127.282928),
                    new naver.maps.LatLng(36.498402, 127.282908),
                    new naver.maps.LatLng(36.498429, 127.282873)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });
        //10
        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(36.4982, 127.28259),
                    new naver.maps.LatLng(36.498173, 127.282625),
                    new naver.maps.LatLng(36.498157, 127.282606),
                    new naver.maps.LatLng(36.498185, 127.282571)

                ]
            ],
            fillColor: '#ff0000',
            fillOpacity: 0.3,
            strokeColor: '#ff0000',
            strokeOpacity: 0.6,
            strokeWeight: 3
        });


        for (var i = 0; i < locations.length; i++) {
            var marker = new naver.maps.Marker({
                map: map,
                title: locations[i].place,
                position: new naver.maps.LatLng(locations[i].lat, locations[i].lng),
            });
        }
        $("#parkingRequest").click(function () {
            if (<%= slotcheck %> == 1){
            $.ajax({
                url: '/parking/Request',
                type: 'POST',
                data: { slot:<%= data["slotid"] %>, car:<%=carid %>, x1:<%=data["x1"] %>, y1:<%= data["y1"] %>}
            });
        location.href = "/parking2?sid=" +<%= data["slotid"] %> +"&cid=" +<%=carid %>;
          } else {
            alert("빈자리가 없습니다.");
        }
        });
    </script>

    <div>
</body>


</html>
